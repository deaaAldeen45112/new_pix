"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8957],{35549:(t,i,e)=>{e.d(i,{Z:()=>o});var a=e(83193);const o=t=>t*(1+a.Z.getters["prices/taxRate"]/100)},51328:(t,i,e)=>{e.r(i),e.d(i,{default:()=>p});var a=e(77766),o=e.n(a),s=e(48383),n=e(20629),l=e(11429),c=e(27682),d=e(89350),r=e(35549);const h={name:"ModalAddToCartWithUpsell",mixins:[c.Z],props:{merchantProductName:{type:String,required:!0},merchantProductId:{type:String,required:!0},fileCheckValue:{type:[Number,String],required:!1},fileCheck:{type:Boolean,required:!1},hasFileCheck:{type:Boolean,required:!1},upsell:{type:Object,required:!1},redirectToHome:{type:Boolean,required:!1,default:!1}},emits:["continueShoppingClick","updateJobClick","continueShoppingClick","fileCheckUpdate","addOrSubtractUpSellQuantity"],components:{SpinningLoader:l.Z},data:()=>({isVisible:!1,upsellOk:!1,continueShoppingClicked:!1,continueShoppingLoading:!1,goToCartLoading:!1,optionChosen:!1,fileCheckModal:!1,quantityCheckModal:!1,fileCheckText:!1,shouldShowMessage:!1}),computed:{...(0,n.Se)("dictionary",["getDictionaryVoice"]),...(0,n.Se)("links",["cartLink"]),...(0,n.Se)("prices",["showingTaxedPrices"]),...(0,n.Se)("experience",["getVariation"]),displayPriceDelta(){var t,i;let e=null!==(t=null===(i=this.upsell)||void 0===i?void 0:i.upsellNetPriceDelta)&&void 0!==t?t:0;return this.showingTaxedPrices&&(e=(0,r.Z)(e)),this.formatPriceWithCurrency(e)},isWithQuantityActiveVariation(){return"with_quantity"===this.getVariation("upsell_popup_quantity")}},methods:{initModal(){this.isVisible=!0,this.continueShoppingLoading=!1,this.upsellOk=!1,this.goToCartLoading=!1,this.continueShoppingClicked=!1,this.fileCheckModal=this.fileCheck,this.quantityCheckModal=!1,this.shouldShowMessage=!this.fileCheckModal&&this.hasFileCheck&&0!==(0,d.Z)(this.fileCheckValue)},leaveModal(){this.isVisible=!1},manageContinueShopping(){this.upsellOk&&(this.$emit("updateJobClick",""),this.continueShoppingClicked=!0),this.$emit("continueShoppingClick")},continueShopping(){var t;this.redirectToHome&&(window.location.href="/"),this.manageContinueShopping(),(0,s.Z)("Continue Shopping From Modal","ga_event",{type:"Product Page - Lightbox",action:"Clicked Continue Shopping",label:o()(t="Clicked Continue Shopping ".concat(this.merchantProductId," - ")).call(t,this.merchantProductName),NonInteraction:!1}),this.optionChosen=!0,this.$bvModal.hide("modal-add")},goto(){(0,s.Z)("Clicked Go To Basket","ga_event",{type:"Product Page - Lightbox",action:"Clicked Go To Basket",label:"Clicked Go To Basket ".concat(this.merchantProductName),NonInteraction:!1}),this.continueShoppingClicked=!1,this.goToCartLoading=!0,this.optionChosen=!0,this.upsellOk?this.$emit("updateJobClick",this.cartLink):window.location.href=this.cartLink},addFileCheck(){this.fileCheckModal=!this.fileCheckModal;const t=this.fileCheckModal;this.$emit("fileCheckUpdate",t,this.fileCheckModal),this.shouldShowMessage&&this.fileCheckModal&&(this.upsellOk=!0)},addQuantity(){this.quantityCheckModal=!this.quantityCheckModal;const t=this.quantityCheckModal;this.quantityCheckModal&&(this.upsellOk=!0),this.$emit("addOrSubtractUpSellQuantity",t,this.upsell)},showFileCheckText(){this.fileCheckText=!0},hideFileCheckText(){this.fileCheckText=!1}},mounted(){document.addEventListener("keyup",(t=>{"Enter"===t.key&&this.isVisible&&this.goto()}))}};const p=(0,e(51900).Z)(h,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("b-modal",{attrs:{id:"modal-add","data-test":"add-to-cart-modal",size:"lg",centered:"","no-close-on-esc":"","no-close-on-backdrop":""},on:{show:t.initModal,hide:t.leaveModal}},[e("template",{slot:"modal-header-close"},[e("i",{staticClass:"fal fa-times-circle"})]),t._v(" "),e("template",{staticClass:"text-center",attrs:{"data-test":"success-add"},slot:"modal-title"},[e("img",{staticClass:"success-icon",attrs:{src:"/images/animation_success.gif",alt:"success-icon"}})]),t._v(" "),e("template",{staticClass:"text-center",slot:"default"},[e("p",{staticClass:"product-added"},[t._v(t._s(t.getDictionaryVoice("modals","prodotto_aggiunto")))]),t._v(" "),e("div",{staticClass:"content"},[t.shouldShowMessage?e("div",{staticClass:"row block"},[e("div",{staticClass:"col-10 col-sm-11 toggle",on:{click:t.addFileCheck}},[e("i",{class:t.fileCheckModal?"fa fa-check-circle":"fal fa-plus-circle"}),t._v("\n                    "+t._s(t.getDictionaryVoice("modals","cta_professional_verification"))+"\n                    "),e("span",{staticClass:"price"},[t._v(" + "+t._s(t.formatPriceWithCurrency(t.fileCheckValue)))])]),t._v(" "),e("div",{staticClass:"col-2 col-sm-1 file-check",on:{mouseover:t.showFileCheckText,mouseleave:t.hideFileCheckText}},[e("div",[e("span",{staticClass:"more-options-file-check"},[e("span",{staticClass:"more-options"})])]),t._v(" "),t.fileCheckText?e("div",{staticClass:"file-check-description"},[t._v("\n                        "+t._s(this.getDictionaryVoice("modals","specialized_technical").replace("#fileCheckPrice#",t.formatPriceWithCurrency(t.fileCheckValue)))+"\n                        "+t._s(t.getDictionaryVoice("modals","add_professional_verification"))+"\n                    ")]):t._e()])]):t._e(),t._v(" "),t.isWithQuantityActiveVariation&&t.upsell&&t.upsell.upsellNetPrice&&t.upsell.upsellQuantity?e("div",{staticClass:"row block"},[e("div",{staticClass:"col-12 toggle",on:{click:t.addQuantity}},[e("i",{class:t.quantityCheckModal?"fa fa-check-circle":"fal fa-plus-circle"}),t._v("\n                    "+t._s(this.getDictionaryVoice("modals","add_quantity").replace("#Quantity#",this.upsell.upsellQuantityDelta))+"\n                    "),e("span",{staticClass:"price"},[t._v(" + "+t._s(t.displayPriceDelta)+" ")])])]):t._e()])]),t._v(" "),e("template",{staticClass:"w-100",slot:"modal-footer"},[e("b-button",{staticClass:"blue-empty-btn col-sm-12 col-md-5 d-sm-block d-none",attrs:{variant:"primary","data-test":"btn-continue-shopping"},on:{click:t.continueShopping}},[e("spinning-loader",{attrs:{"is-loading":t.continueShoppingLoading}}),t._v("\n            "+t._s(t.getDictionaryVoice("cart","continua_acquisti"))+"\n        ")],1),t._v(" "),e("b-button",{staticClass:"blue-btn col-sm-12 col-md-5 d-sm-block d-none",attrs:{variant:"primary","data-test":"btn-goto-cart"},on:{click:t.goto}},[e("spinning-loader",{attrs:{"is-loading":t.goToCartLoading}}),t._v("\n            "+t._s(t.getDictionaryVoice("modals","vai_al_carrello"))+"\n        ")],1),t._v(" "),e("b-button",{staticClass:"blue-btn btn-goto-cart col-sm-12 col-md-5 d-sm-none d-block",attrs:{variant:"primary","data-test":"btn-goto-cart"},on:{click:t.goto}},[e("spinning-loader",{attrs:{"is-loading":t.goToCartLoading}}),t._v("\n            "+t._s(t.getDictionaryVoice("modals","vai_al_carrello"))+"\n        ")],1),t._v(" "),e("b-button",{staticClass:"blue-empty-btn col-sm-12 col-md-5 d-sm-none d-block",attrs:{variant:"primary","data-test":"btn-continue-shopping"},on:{click:t.continueShopping}},[e("spinning-loader",{attrs:{"is-loading":t.continueShoppingLoading}}),t._v("\n            "+t._s(t.getDictionaryVoice("cart","continua_acquisti"))+"\n        ")],1)],1)],2)}),[],!1,null,null,null).exports}}]);
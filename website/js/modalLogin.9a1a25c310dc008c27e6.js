"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[34],{88591:(e,s,a)=>{a.r(s),a.d(s,{default:()=>r});var t=a(85835),o=a(11429),i=a(68827),n=a(17141);const l={name:"ModalLogin",mixins:[i.Z],extends:n.Z,components:{SpinningLoader:o.Z},props:["urlBeforeLoggedin","userEmail"],data:()=>({isVisible:!1}),methods:{loginModal(){this.$bvModal.show("modal-login")},initModal(){this.isVisible=!0},leaveModal(){this.isVisible=!1}},created(){t.Z.$on("open-modal-login",(e=>{void 0!==e&&(this.redirectLink=e),this.loginModal(),this.username=this.userEmail}))},mounted(){void 0!==this.urlBeforeLoggedin&&null!==this.urlBeforeLoggedin&&t.Z.$emit("open-modal-login",this.urlBeforeLoggedin)}};const r=(0,a(51900).Z)(l,(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("b-modal",{attrs:{id:"modal-login"},on:{show:e.initModal,hide:e.leaveModal}},[a("template",{slot:"modal-header-close"},[a("i",{staticClass:"fal fa-times-circle"})]),e._v(" "),a("template",{slot:"modal-title"},[a("img",{attrs:{alt:"login icon",src:"/images/navigation/login_2022.svg",width:"30px",height:"35px"}})]),e._v(" "),a("template",{slot:"default"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"loginEmail"}},[e._v(e._s(e.getDictionaryVoice("user","email")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{autocomplete:"off",type:"email",id:"loginEmail",placeholder:e.getDictionaryVoice("user","email")},domProps:{value:e.username},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.login.apply(null,arguments)},input:function(s){s.target.composing||(e.username=s.target.value)}}}),e._v(" "),e.hasValidationMessage("username")?a("small",{staticClass:"text-danger form-text"},[e._v("\n                "+e._s(e.getValidationMessage("username"))+"\n            ")]):e._e(),e._v(" "),e.hasValidationMessage("anonymizedEmail")?a("small",{staticClass:"text-danger form-text"},[a("b",[e._v(e._s(e.getValidationMessage("anonymizedEmail")))])]):e._e()]),e._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"login-password"}},[e._v(e._s(e.getDictionaryVoice("user","pwd")))]),e._v(" "),a("div",{staticClass:"content-psw"},[a("div",{staticClass:"input-group"},["checkbox"===e.passwordFieldType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{autocomplete:"new-password",id:"login-password",placeholder:e.getDictionaryVoice("user","pwd"),type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.login.apply(null,arguments)},change:function(s){var a=e.password,t=s.target,o=!!t.checked;if(Array.isArray(a)){var i=e._i(a,null);t.checked?i<0&&(e.password=a.concat([null])):i>-1&&(e.password=a.slice(0,i).concat(a.slice(i+1)))}else e.password=o}}}):"radio"===e.passwordFieldType?a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{autocomplete:"new-password",id:"login-password",placeholder:e.getDictionaryVoice("user","pwd"),type:"radio"},domProps:{checked:e._q(e.password,null)},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.login.apply(null,arguments)},change:function(s){e.password=null}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{autocomplete:"new-password",id:"login-password",placeholder:e.getDictionaryVoice("user","pwd"),type:e.passwordFieldType},domProps:{value:e.password},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.login.apply(null,arguments)},input:function(s){s.target.composing||(e.password=s.target.value)}}}),e._v(" "),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"fa fa-eye show-psw",class:[e.showPassword?"fa-eye-slash":"fa-eye"],attrs:{"aria-hidden":"true",type:"passwordSwitch"},on:{click:e.switchVisibility}})])])]),e._v(" "),e.hasValidationMessage("password")?a("small",{staticClass:"text-danger form-text"},[e._v("\n                    "+e._s(e.getValidationMessage("password"))+"\n                ")]):e._e()])]),e._v(" "),a("div",{staticClass:"lost-password",on:{click:function(s){return e.showModalRecover()}}},[e._v("\n            "+e._s(e.getDictionaryVoice("common","dimenticato_pwd"))+"\n        ")])]),e._v(" "),a("template",{staticClass:"w-100",slot:"modal-footer"},[e.loginMessage?a("div",{staticClass:"alert alert-danger",class:{"d-none":e.loginSuccess},domProps:{innerHTML:e._s(e.loginMessage)}}):e._e(),e._v(" "),a("b-button",{staticClass:"blue-btn btn-block",attrs:{variant:"primary","data-test":"login-btn"},on:{click:function(s){return e.login()}}},[a("spinning-loader",{attrs:{"is-loading":e.isLoading}}),e._v("\n            "+e._s(e.getDictionaryVoice("user","login"))+"\n        ")],1),e._v(" "),a("b-button",{staticClass:"blue-empty-btn btn-block",attrs:{variant:"primary"},on:{click:e.goToRegistration}},[e._v("\n            "+e._s(e.getDictionaryVoice("user","nuova_registrazione"))+"\n        ")])],1)],2)}),[],!1,null,null,null).exports}}]);
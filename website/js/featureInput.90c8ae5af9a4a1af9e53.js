(self.webpackChunk=self.webpackChunk||[]).push([[4772],{18524:(t,e,i)=>{"use strict";i.d(e,{Z:()=>l});i(92087);var s=i(86902),a=i.n(s),n=i(2991),o=i.n(n),r=i(47962);const l=(t,e)=>{var i,s,n;let l={};const u=null!==(i=null==e||null===(s=e.customSelections)||void 0===s||null===(n=s.dictionaryTranslations)||void 0===n?void 0:n.info)&&void 0!==i?i:{};if(a()(u).length>0&&(0,r.Z)(u,["description","gallery","videos"])){var p,c,d,h,g,m;if(null==u||!u.title)u.title=null!==(h=null==e||null===(g=e.customSelections)||void 0===g||null===(m=g.dictionaryTranslations)||void 0===m?void 0:m.voice)&&void 0!==h?h:"";l=u;const t=null!==(p=null==e||null===(c=e.customSelections)||void 0===c?void 0:c.flagName)&&void 0!==p?p:[];l.flags=o()(d=a()(t)).call(d,(e=>t[e].voice))}return l}},2350:(t,e,i)=>{"use strict";i.d(e,{Z:()=>u});var s=i(78580),a=i.n(s),n=i(89350),o=i(99741),r=i(92381),l=i(98271);const u=t=>{var e;let i=!1;if(null!=t&&null!==(e=t.customSelections)&&void 0!==e&&e.hideSingleNullValue){const e=(0,l.Z)(t),s=["None","No"];i=0===(0,n.Z)(e)||a()(s).call(s,e)||(0,o.Z)(e)||(0,r.Z)(e)}return i}},92087:(t,e,i)=>{var s=i(19781),a=i(3070),n=i(67066),o=i(9054).UNSUPPORTED_Y;s&&("g"!=/./g.flags||o)&&a.f(RegExp.prototype,"flags",{configurable:!0,get:n})},57948:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>y});i(15306);var s=i(78580),a=i.n(s),n=i(31238),o=i.n(n),r=i(98926),l=i.n(r),u=i(77766),p=i.n(u),c=i(94198),d=i.n(c),h=i(20629),g=i(3297),m=i(15994),v=i(97058),f=i(47962),_=i(18524),V=i(66024),x=i(2350),C=i(15407),b=i(51486);const I={name:"FeatureInput",props:["option","value","enabledOptions","label","customStyle"],data(){return{prevInputValue:this.value,inputValue:this.value,isDisabled:!1,isInfoOpen:!1,hasError:!1,errorMessage:"",minRangeMessage:"",maxRangeMessage:"",originalValue:this.value}},components:{TransitionExpand:g.Z,InfoBox:m.Z,FeatureHeader:v.Z},computed:{shouldHideDisabledComponent(){var t;return a()(t=["Custom_Width___LOR","Custom_Height___LOR","Width___LOR","Height___LOR","Trim_Height___LOR","Trim_Width___LOR"]).call(t,this.option.name)&&this.isDisabled},displayLabel(){return this.getFeatureLabel(this.option)},infoBoxContent(){return this.getInfoFromSelection(this.option,null)},shouldShowInfo(){return this.contentExistsForFields(this.infoBoxContent,["description","gallery","videos"])},hasLayoutPanoramic(){return"layout-panoramic"===this.customStyle},...(0,h.Se)("dictionary",["getDictionaryVoice","dictionaryVoiceExists"])},watch:{value(t,e){o()(t)!==o()(e)&&(this.prevInputValue=t,this.inputValue=t)},enabledOptions(){this.isLockedOption()}},methods:{contentExistsForFields:f.Z,getInfoFromSelection:_.Z,getFeatureLabel:V.Z,isHiddenSingleNullValue:x.Z,isValidRangesValue:C.Z,getLimitsFromRanges:b.Z,updateUserInput(){this.$store.dispatch("product/setInputFocused",!0)},updateInputBlur(t){this.prevInputValue===this.inputValue&&this.$store.dispatch("product/setInputFocused",!1),this.updateInput(t)},isLockedOption(){this.isDisabled=1===this.enabledOptions.length&&this.enabledOptions[0].minimum===this.enabledOptions[0].maximum&&o()(this.enabledOptions[0].minimum)===o()(this.inputValue)},isFeatureToHide(){return this.shouldHideDisabledComponent||this.isDisabled&&(0,x.Z)(this.option)},getInputError(){const t=o()(this.inputValue),e=!(0,C.Z)(t,this.enabledOptions);if(this.errorMessage="",this.minRangeMessage="",this.maxRangeMessage="",e){const{minLimit:e,maxLimit:i}=(0,b.Z)(this.enabledOptions);null!==e&&t<e&&this.dictionaryVoiceExists("product","errors-minimum-range")&&(this.minRangeMessage=this.getDictionaryVoice("product","errors-minimum-range").replace("#MIN#",e)),null!==i&&t>i&&this.dictionaryVoiceExists("product","errors-maximum-range")&&(this.maxRangeMessage=this.getDictionaryVoice("product","errors-maximum-range").replace("#MAX#",i)),this.dictionaryVoiceExists("product","errors-input-value")&&(this.errorMessage=this.getDictionaryVoice("product","errors-input-value").replace("#VALUE#",l()(t)?this.originalValue:t))}this.hasError=e,this.$emit("updateInputError",this.hasError)},toggleInfo(){this.isInfoOpen=!this.isInfoOpen},onInfoCloseClick(){this.isInfoOpen=!1},formatInputValue(t){const e=t.target.value;let i;this.originalValue=e;const s=e.replace(/,/g,".").replace(/[^.\d]/g,"").split(/[.](.+)/);var a;s.length>1?(s[0]=s[0].replace(/\D+/g,""),s[1]=s[1].replace(/\D+/g,""),i=p()(a="".concat(s[0],".")).call(a,s[1]),i=o()(i).toFixed(2),i-Math.floor(i)==0&&(i=d()(i,10))):i=d()(s[0],10);return i},updateInput(t){this.manageValueChange(t)},manageValueChange(t){const e=this.formatInputValue(t);e!==this.inputValue&&(this.inputValue=e),e!==this.prevInputValue&&(this.prevInputValue=e,this.getInputError(),this.hasError||this.$emit("featureChanged",this.label,this.inputValue),this.hasError&&(this.inputValue=this.originalValue))}}};const y=(0,i(51900).Z)(I,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-group",class:{"d-none":t.isFeatureToHide(),"text-danger":t.hasError,"layout-panoramic":t.hasLayoutPanoramic}},[i("feature-header",{attrs:{option:t.option}}),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"inner"},[t.isDisabled?i("div",{staticClass:"input-group input-group-disabled"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"form-control",class:{"is-invalid":t.hasError,"text-danger":t.hasError},attrs:{type:"text",id:t.option.name,"aria-describedby":t.displayLabel,disabled:""},domProps:{value:t.inputValue},on:{input:function(e){e.target.composing||(t.inputValue=e.target.value)}}}),t._v(" "),t._m(0)]):i("div",{staticClass:"input-group",class:{"input-group-error":t.hasError}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.inputValue,expression:"inputValue"}],staticClass:"form-control",class:{"is-invalid text-danger":t.hasError},attrs:{type:"text",id:t.option.name,"aria-describedby":t.displayLabel,"data-test":"input-"+t.label+"-"+t.option.label.en},domProps:{value:t.inputValue},on:{focus:t.updateUserInput,blur:function(e){return t.updateInputBlur(e)},input:function(e){e.target.composing||(t.inputValue=e.target.value)}}}),t._v(" "),t.hasError?i("div",{staticClass:"input-group-append"},[t._m(1)]):t.shouldShowInfo?i("span",{staticClass:"more-options-container",on:{click:t.toggleInfo}},[i("span",{staticClass:"more-options"})]):t._e()])])])]),t._v(" "),t.errorMessage?i("small",{staticClass:"form-text text-danger"},[t._v("\n        "+t._s(t.errorMessage)+"\n    ")]):t._e(),t._v(" "),t.minRangeMessage?i("small",{staticClass:"form-text text-danger"},[t._v("\n        "+t._s(t.minRangeMessage)+"\n    ")]):t._e(),t._v(" "),t.maxRangeMessage?i("small",{staticClass:"form-text text-danger"},[t._v("\n        "+t._s(t.maxRangeMessage)+"\n    ")]):t._e(),t._v(" "),i("transition-expand",[t.isInfoOpen?i("div",[i("info-box",{attrs:{content:t.infoBoxContent,"margin-type":"input"},on:{infoCloseClick:t.onInfoCloseClick}})],1):t._e()])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("span",{staticClass:"input-group-text"},[e("i",{staticClass:"fal fa-lock-alt"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"input-group-text"},[e("i",{staticClass:"fal fa-exclamation-triangle"})])}],!1,null,"b1045d1e",null).exports}}]);
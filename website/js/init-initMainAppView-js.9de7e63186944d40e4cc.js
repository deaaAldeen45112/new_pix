"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9233],{62068:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Ce});s(33948);var i=s(91317),n=s.n(i),o=s(83193),a=s(78580),r=s.n(a),l=s(20629),c=s(31955),d=s(48383),u=s(36806),h=s(42982),p=s(46678),g=s(35213),m=s(68827),v=s(11429);const y={name:"UserLogin",extends:s(17141).Z,mixins:[m.Z],components:{SpinningLoader:v.Z,BDropdown:u.R,BDropdownForm:h.N},data:()=>({isDropdownOpen:!1}),computed:{...(0,l.Se)("screen",["screenIs"])},methods:{dropdownLogin(){this.login(),this.isDropdownOpen=!0},modalLoginMobile(){this.screenIs("mobile")&&this.$root.$emit("bv::show::modal","modal-login")}}};var w=s(51900);const _=(0,w.Z)(y,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-dropdown",{attrs:{id:"dropdown-form-login",right:"",variant:"white","toggle-class":"header-btn"},on:{show:function(t){e.isDropdownOpen=!0},hide:function(t){e.isDropdownOpen=!1}},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("img",{staticClass:"login-icon",attrs:{src:"/images/navigation/login_2022.svg",alt:"login icon",width:"12px",height:"14px"},on:{click:e.modalLoginMobile}}),e._v(" "),s("span",{staticClass:"d-none d-md-inline"},[e._v(e._s(e.getDictionaryVoice("user","login")))]),e._v(" "),s("i",{staticClass:"pixicon d-none d-md-inline",class:e.isDropdownOpen?"icon-arrow_up":"icon-arrow_down"})]},proxy:!0}])},[e._v(" "),s("b-dropdown-form",[s("div",{staticClass:"col-12"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"loginEmail"}},[e._v(e._s(e.getDictionaryVoice("user","email")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{autocomplete:"off",type:"email",id:"loginEmail",placeholder:e.getDictionaryVoice("user","email")},domProps:{value:e.username},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||(e.username=t.target.value)}}}),e._v(" "),e.hasValidationMessage("username")?s("small",{staticClass:"text-danger form-text"},[e._v("\n                    "+e._s(e.getValidationMessage("username"))+"\n                ")]):e._e(),e._v(" "),e.hasValidationMessage("anonymizedEmail")?s("small",{staticClass:"text-danger form-text"},[s("b",[e._v(e._s(e.getValidationMessage("anonymizedEmail")))])]):e._e()])]),e._v(" "),s("div",{staticClass:"col-12"},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"loginPassword"}},[e._v(e._s(e.getDictionaryVoice("user","pwd")))]),e._v(" "),s("div",{staticClass:"content-psw"},[s("div",{staticClass:"input-group"},["checkbox"===e.passwordFieldType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{autocomplete:"new-password",id:"loginPassword",placeholder:e.getDictionaryVoice("user","pwd"),type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},change:function(t){var s=e.password,i=t.target,n=!!i.checked;if(Array.isArray(s)){var o=e._i(s,null);i.checked?o<0&&(e.password=s.concat([null])):o>-1&&(e.password=s.slice(0,o).concat(s.slice(o+1)))}else e.password=n}}}):"radio"===e.passwordFieldType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{autocomplete:"new-password",id:"loginPassword",placeholder:e.getDictionaryVoice("user","pwd"),type:"radio"},domProps:{checked:e._q(e.password,null)},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},change:function(t){e.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{autocomplete:"new-password",id:"loginPassword",placeholder:e.getDictionaryVoice("user","pwd"),type:e.passwordFieldType},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),s("div",{staticClass:"input-group-append"},[s("span",{staticClass:"input-group-text"},[s("i",{staticClass:"fa fa-eye show-psw",class:[e.showPassword?"fa-eye-slash":"fa-eye"],attrs:{"aria-hidden":"true",type:"passwordSwitch"},on:{click:e.switchVisibility}})])])]),e._v(" "),e.hasValidationMessage("password")?s("small",{staticClass:"text-danger form-text"},[e._v("\n                        "+e._s(e.getValidationMessage("password"))+"\n                    ")]):e._e()])])]),e._v(" "),s("div",{staticClass:"col-12"},[s("div",{staticClass:"lost-password",on:{click:function(t){return e.showModalRecover()}}},[e._v("\n                "+e._s(e.getDictionaryVoice("common","dimenticato_pwd"))+"\n            ")])]),e._v(" "),s("div",{staticClass:"col-12"},[s("div",{staticClass:"btn-container"},[e.loginMessage?s("div",{staticClass:"alert alert-danger",class:{"d-none":e.loginSuccess},domProps:{innerHTML:e._s(e.loginMessage)}}):e._e(),e._v(" "),s("b-button",{staticClass:"blue-btn btn-block",attrs:{variant:"primary","data-test":"login-btn"},on:{click:function(t){return e.dropdownLogin()}}},[s("spinning-loader",{attrs:{"is-loading":e.isLoading}}),e._v("\n                    "+e._s(e.getDictionaryVoice("user","login"))+"\n                ")],1),e._v(" "),s("b-button",{staticClass:"blue-empty-btn btn-block",attrs:{variant:"primary"},on:{click:e.goToRegistration}},[e._v("\n                    "+e._s(e.getDictionaryVoice("user","nuova_registrazione"))+"\n                ")])],1)])])],1)}),[],!1,null,"374456ba",null).exports;var f=s(48930),C=s(85835);const b={name:"UserMenu",components:{UserLogin:_,BDropdown:u.R,BDropdownForm:h.N,BToast:p.K,BToaster:g.lJ},props:{userName:{type:String,required:!1},userEmail:{type:String,required:!1},userCustomerNumber:{type:String,required:!1},showOn:{type:String,required:!1},loggedIn:{type:Boolean,required:!1},links:{type:Array,required:!1},accountRoles:{type:Array,required:!1}},data:()=>({isDropdownOpen:!1,showLoginToast:!1,notShowToast:!1}),computed:{shouldShow(){const e={mobile:this.isMobileScreen,desktop:!this.isMobileScreen}[this.showOn];return void 0!==e&&e},...(0,l.Se)("dictionary",["getDictionaryVoice"]),...(0,l.Se)("screen",["isMobileScreen","screenIs"]),...(0,l.Se)("user",["isLogged","firstName","getEmailOnHoldStatus"]),...(0,l.Se)("links",["registrationLink","personalAreaLink"]),...(0,l.Se)("preference",["showCurrencySelector"])},methods:{loginModal(){this.$root.$emit("bv::show::modal","modal-login"),(0,d.Z)("Open User Menu","ga_event",{type:"popup accedi",action:"click accedi top right",NonInteraction:!0})},logout(){axios.post("/logout/").then((()=>{window.location.href="/",this.$store.dispatch("user/clearEmailOnHoldStatus")}))},loginMobile(){window.location.pathname.toString()!==this.personalAreaLink.toString()&&(this.screenIs("xs")||this.screenIs("sm"))&&(window.location.href=this.personalAreaLink)},closeToast(){this.showLoginToast=!1,c.Z.set("popup-check-email-status","1",{path:"/",expires:1})},checkPage(){var e;this.notShowToast=r()(e=["layouts.product","purchase-funnel.recap","purchase-funnel.thank-you","purchase-funnel.cart","personal-area.orders","personal-area.order","purchase-funnel.payment-result"]).call(e,window.layoutTemplate)},showPopUp(){if(this.isLogged&&!this.notShowToast&&!c.Z.get("popup-check-email-status")){const e=this.getEmailOnHoldStatus();this.showLoginToast=e&&"true"===e}}},created(){this.$store.dispatch("user/setInitialState",{isLogged:this.loggedIn,firstName:this.userName,userEmail:this.userEmail,userCustomerNumber:this.userCustomerNumber,accountRoles:this.accountRoles}),C.Z.$on("userProfileUpdated",(()=>{this.closeToast(),this.$store.dispatch("user/clearEmailOnHoldStatus")}))},mounted(){this.screenIs("md")&&((0,f.Z)(".logged_user").style.width="".concat((0,f.Z)("#mini-menu-user").offsetWidth,"px")),this.checkPage(),document.body.addEventListener("emailStatusLoad",this.showPopUp)}};const x=(0,w.Z)(b,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.shouldShow?s("div",{class:{"next-to-currency":e.showCurrencySelector},attrs:{id:"login-register-menu"}},[e.isLogged?s("div",{staticClass:"dropdown"},[s("b-dropdown",{attrs:{id:"dropdown-form-user-menu",right:"",variant:"white","toggle-class":"header-btn logged_user"},on:{show:function(t){e.isDropdownOpen=!0},hide:function(t){e.isDropdownOpen=!1}},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("img",{staticClass:"login-icon",attrs:{src:"/images/navigation/login_2022.svg",alt:"login icon",width:"12px",height:"14px"},on:{click:e.loginMobile}}),e._v(" "),s("span",{staticClass:"d-none d-md-inline"},[e._v("\n                    "+e._s(e.getDictionaryVoice("personal_area","hello"))+"\n                    "),""!==e.firstName?s("strong",{staticClass:"d-none d-md-inline"},[e._v(e._s(e.firstName))]):s("strong",{staticClass:"d-none d-md-inline"},[e._v(e._s(e.getDictionaryVoice("user","user")))])]),e._v(" "),s("i",{staticClass:"pixicon d-none d-md-inline",class:e.isDropdownOpen?"icon-arrow_up":"icon-arrow_down"})]},proxy:!0}],null,!1,2510578027)},[e._v(" "),s("b-dropdown-form",{staticClass:"d-none d-md-inline"},[s("div",{staticClass:"form-group mini-menu-user",attrs:{id:"mini-menu-user"}},[s("div",{staticClass:"user-dropdown-menu logged-menu"},[e._l(e.links,(function(t){return s("a",{staticClass:"user_menu_link",attrs:{href:t.permalink}},[e._v("\n                            "+e._s(t.pageTitle)+"\n                        ")])})),e._v(" "),s("a",{staticClass:"user_menu_link logout",attrs:{href:"javascript:void(0)"},on:{click:e.logout}},[s("span",{staticClass:"pixicon icon-logout"}),e._v(" "+e._s(e.getDictionaryVoice("user","logout"))+"\n                        ")])],2)])])],1)],1):s("div",{staticClass:"dropdown"},[s("user-login")],1),e._v(" "),s("b-toast",{attrs:{variant:"danger","no-auto-hide":"",solid:"","no-close-button":"",toaster:"b-toaster-bottom-left"},model:{value:e.showLoginToast,callback:function(t){e.showLoginToast=t},expression:"showLoginToast"}},[s("span",[e._v("\n            "+e._s(e.getDictionaryVoice("user","email_not_reachable_toast"))+"\n        ")]),e._v(" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.closeToast}},[s("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])]),e._v(" "),s("b-toaster",{attrs:{name:"b-toaster-bottom-left"}})],1):e._e()}),[],!1,null,"599fa9d0",null).exports;s(15306);var k=s(77766),S=s.n(k),D=s(94473),L=s.n(D),M=s(86902),V=s.n(M),T=s(78914),$=s.n(T),E=s(89350),R=s(90891),Z=s(81643),I=s.n(Z),P=s(2991),z=s.n(P),A=s(3649),H=s.n(A),N=s(54103),O=s.n(N);const F={name:"VueBootstrapTypeaheadListItem",props:{data:{},htmlText:{type:String},backgroundVariant:{type:String},textVariant:{type:String},isActive:{type:Boolean}},data:()=>({hover:!1}),computed:{textClasses(){let e="";return e+=this.hover?"hover":"",e+=this.isActive?" active":"",e+=this.backgroundVariant?" bg-".concat(this.backgroundVariant):"",e+=this.textVariant?" text-".concat(this.textVariant):"","vbst-item list-group-item list-group-item-action ".concat(e)}}};function B(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}const q={name:"VueBootstrapTypeaheadList",components:{VueBootstrapTypeaheadListItem:(0,w.Z)(F,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{class:e.textClasses,attrs:{tabindex:"0",href:"#"},on:{mouseover:function(t){e.hover=!0},mouseout:function(t){e.hover=!1}}},[e._t("suggestion",(function(){return[s("span",{domProps:{innerHTML:e._s(e.htmlText)}})]}),null,{data:e.data,htmlText:e.htmlText})],2)}),[],!1,null,null,null).exports},props:{data:{type:Array,required:!0,validator:e=>e instanceof Array},query:{type:String,default:""},backgroundVariant:{type:String},textVariant:{type:String},maxMatches:{type:Number,default:10},minMatchingChars:{type:Number,default:2},minQueryLength:{type:Number,default:1},arrowPos:{type:Number}},data:()=>({arrowCounter:-1}),computed:{highlight(){return e=>{const t=B(e);if(0===this.query.length)return e;const s=new RegExp(this.escapedQuery.toString(),"gi");return t.replace(s,"<strong>$&</strong>")}},escapedQuery(){return B(this.query).replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},matchedItems(){var e;return this.query.length<this.minQueryLength||this.query.length<this.minMatchingChars?[]:H()(e=this.data).call(e,0,this.maxMatches)}},methods:{onEnter(e){const t=this.matchedItems[this.arrowCounter];void 0!==t?this.$emit("hit",t):""!==this.query.replace(/\s+/g,"")&&this.$emit("hit",{searchQuery:this.query})},fixScrolling(){this.$refs.options[this.arrowCounter].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},onArrowDown(e){e.preventDefault(),this.arrowCounter<this.matchedItems.length-1&&(this.arrowCounter+=1,this.fixScrolling())},onArrowUp(e){e.preventDefault(),this.arrowCounter>0&&(this.arrowCounter-=1,this.fixScrolling())},handleSelectionKey(e){switch(e.code){case"ArrowUp":this.onArrowUp(e);break;case"ArrowDown":this.onArrowDown(e);break;case"Enter":this.onEnter(e)}},handleHit(e,t){this.$emit("hit",e),t.preventDefault(),this.arrowCounter=-1},isActive(e){return e===this.arrowCounter}},mounted(){var e;this.$parent.$on("selectionKeyPressed",O()(e=this.handleSelectionKey).call(e,this))}};const j={name:"VueBootstrapTypehead",components:{VueBootstrapTypeaheadList:(0,w.Z)(q,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"list-group shadow col-11"},e._l(e.matchedItems,(function(t,i){return s("vue-bootstrap-typeahead-list-item",{key:i,attrs:{data:t.data,"html-text":e.highlight(t.text),"background-variant":e.backgroundVariant,"text-variant":e.textVariant,"is-active":e.isActive(i)},on:{keydown:e.$listeners.keydown},nativeOn:{click:function(s){return e.handleHit(t,s)}},scopedSlots:e._u([{key:"suggestion",fn:function(t){var i=t.data,n=t.htmlText;return e.$scopedSlots.suggestion?[s("div",{ref:"options",refInFor:!0},[e._t("suggestion",null,null,{data:i,htmlText:n})],2)]:void 0}}],null,!0)})})),1)}),[],!1,null,null,null).exports},props:{size:{type:String,default:null,validator:e=>{var t;return I()(t=["lg","sm"]).call(t,e)>-1}},value:{type:String},data:{type:Array,required:!0,validator:e=>e instanceof Array},serializer:{type:Function,default:e=>e,validator:e=>e instanceof Function},backgroundVariant:String,textVariant:String,inputClass:{type:String,default:""},maxMatches:{type:Number,default:10},minMatchingChars:{type:Number,default:2},minQueryLength:{type:Number,default:1},placeholder:String,prepend:String,append:String},computed:{sizeClasses(){return this.size?"input-group input-group-".concat(this.size):"input-group"},formattedData(){var e;return this.data instanceof Array?z()(e=this.data).call(e,((e,t)=>({id:t,data:e,text:this.serializer(e)}))):[]}},methods:{resizeList(e){const t=e.getBoundingClientRect(),s=this.$refs.list.$el.style;if(s.width="".concat(t.width,"px"),this.$refs.prependDiv){const e=this.$refs.prependDiv.getBoundingClientRect();s.marginLeft="".concat(e.width,"px")}},handleHit(e){void 0!==e&&(e.text&&e.data?(void 0!==this.value&&this.$emit("input",e.text),this.inputValue=e.data.object_name,this.$emit("hit",e.data)):e.searchQuery&&this.$emit("hit",{object_name:e.searchQuery})),this.$refs.input.blur(),this.isFocused=!1},handleBlur(e){const t=e.relatedTarget;t&&t.classList.contains("vbst-item")||(this.isFocused=!1)},handleInput(e){this.inputValue=e,void 0!==this.value&&this.$emit("input",e)},handleKeyDown(e){if(this.isFocused)switch(e.code){case"ArrowUp":case"ArrowDown":case"Enter":e.preventDefault(),this.$emit("selectionKeyPressed",e)}}},data:()=>({isFocused:!1,inputValue:"",shouldRender:!1,$_ro:void 0}),created(){"ResizeObserver"in window&&(this.shouldRender=!0)},watch:{shouldRender(e){e&&(this.$_ro=new ResizeObserver((()=>{this.resizeList(this.$refs.input)})),this.$_ro.observe&&(this.$_ro.observe(this.$refs.input),this.$_ro.observe(this.$refs.list.$el)))}},beforeDestroy(){this.$_ro&&this.$_ro.disconnect()}};const Q={name:"SearchBar",components:{VueBootstrapTypeahead:(0,w.Z)(j,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.shouldRender?s("div",[s("div",{class:e.sizeClasses},[e.$slots.prepend||e.prepend?s("div",{ref:"prependDiv",staticClass:"input-group-prepend"},[e._t("prepend",(function(){return[s("span",{staticClass:"input-group-text"},[e._v(e._s(e.prepend))])]}))],2):e._e(),e._v(" "),s("input",{ref:"input",class:"form-control "+e.inputClass,attrs:{type:"search",placeholder:e.placeholder,"aria-label":e.placeholder,autocomplete:"off"},domProps:{value:e.inputValue},on:{focus:function(t){e.isFocused=!0},blur:e.handleBlur,input:function(t){return e.handleInput(t.target.value)},keydown:e.handleKeyDown}}),e._v(" "),e.$slots.append||e.append?s("div",{staticClass:"input-group-append"},[e._t("append",(function(){return[s("span",{staticClass:"input-group-text"},[e._v(e._s(e.append))])]}))],2):e._e()]),e._v(" "),s("vue-bootstrap-typeahead-list",{directives:[{name:"show",rawName:"v-show",value:e.isFocused&&e.data.length>0,expression:"isFocused && data.length > 0"}],ref:"list",staticClass:"vbt-autcomplete-list",attrs:{query:e.inputValue,data:e.formattedData,"background-variant":e.backgroundVariant,"text-variant":e.textVariant,maxMatches:e.maxMatches,minMatchingChars:e.minMatchingChars,"min-query-length":e.minQueryLength},on:{hit:e.handleHit,keydown:e.handleKeyDown},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,s){return{key:s,fn:function(t){var i=t.data,n=t.htmlText;return[e._t(s,null,null,{data:i,htmlText:n})]}}}))],null,!0)})],1):e._e()}),[],!1,null,"425d6fe9",null).exports},data:()=>({suggestionsResponse:{},suggestions:[],searchQuery:"",minQueryLength:3,categorizedLog:window.mstPrd?"ext":"int"}),watch:{searchQuery(e){this.getDebouncedSuggestions(e)}},computed:{...(0,l.Se)("links",["searchLink"]),...(0,l.Se)("dictionary",["getDictionaryVoice"])},methods:{serializeRes(){return this.searchQuery},suggestionHtml(e){var t,s,i;const{object_name:n}=e;return null!==(t=null==e||null===(s=e._highlightResult)||void 0===s||null===(i=s.object_name)||void 0===i?void 0:i.value)&&void 0!==t?t:n},goToSearchPage(e){var t,s;window.location.href=S()(t=S()(s="".concat(this.searchLink,"?query=")).call(s,encodeURIComponent(e),"&log=")).call(t,this.categorizedLog)},goToResult(e){var t,s;const i=S()(t=S()(s="".concat(this.searchLink,"?query=")).call(s,this.searchQuery,"&queryFromSuggest=true&log=")).call(t,this.categorizedLog);(0,d.Z)("Search Input","search_from_suggestion",{search_url:i});const{destinationUrl:n,object_name:o,objectID:a}=e;if(n){var r;const e=(0,E.Z)(L()(r=V()(this.suggestions)).call(r,(e=>this.suggestions[e].objectID===a)))+1,t=this.suggestionsResponse.queryID,s=a;axios.post("/search/tracksearchclick/",{position:e,aluqid:t,algoliaobjectid:s}).then((e=>{var i,o;200===e.data.status&&(window.location.href=S()(i=S()(o="".concat(n,"?aluqid=")).call(o,t,"&algoliaobjectid=")).call(i,s))})).catch((e=>{console.log(e,"ajax ko")}))}else o&&this.goToSearchPage(o)},goToQuery(e){void 0!==e&&""!==e.replace(/\s+/g,"")&&this.goToSearchPage(e)},async getSuggestions(e){e.length>=this.minQueryLength&&""!==e.replace(/\s+/g,"")?axios.post("/search/suggestion/?log=".concat(this.categorizedLog),{query:e}).then((e=>{var t,s,i,n,o;this.suggestionsResponse=null!==(t=null==e?void 0:e.data)&&void 0!==t?t:{};const a=null!==(s=null===(i=this.suggestionsResponse)||void 0===i?void 0:i.hits)&&void 0!==s?s:[];$()(a).call(a,(e=>{e.object_description.length>200&&(e.object_description="".concat(e.object_description.substring(0,200),"..."))})),this.suggestions=null!==(n=null==this||null===(o=this.suggestionsResponse)||void 0===o?void 0:o.hits)&&void 0!==n?n:[]})).catch((e=>{console.log(e,"ajax ko")})):this.suggestions=[]},getDebouncedSuggestions:(0,R.Z)((function(e){this.getSuggestions(e)}),500)}};const U=(0,w.Z)(Q,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search mr-auto container"},[s("vue-bootstrap-typeahead",{attrs:{data:e.suggestions,size:"sm","min-matching-chars":1,"min-query-length":e.minQueryLength,"max-matches":10,serializer:e.serializeRes,placeholder:e.getDictionaryVoice("common","search_placeholder")},on:{hit:e.goToResult},scopedSlots:e._u([{key:"suggestion",fn:function(t){var i=t.data;t.htmlText;return[s("div",{staticClass:"suggestions_container"},[s("div",{staticClass:"hidden-xs"},[s("img",{staticClass:"img-fluid",attrs:{src:i.imageUrl,alt:""}})]),e._v(" "),s("div",{staticClass:"product_suggest_desc"},[s("div",{domProps:{innerHTML:e._s(e.suggestionHtml(i))}}),e._v(" "),s("small",{staticClass:"hidden-xs"},[e._v(e._s(i.object_description))])])])]}}]),model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}},[e._v(" "),s("template",{slot:"append"},[s("button",{staticClass:"btn search-bar-btn",on:{click:function(t){return e.goToQuery(e.searchQuery)}}})])],2)],1)}),[],!1,null,"6d4aeb6a",null).exports;var K=s(5437),W=s(54298);const J={name:"MiniCart",mixins:[s(27682).Z],props:["cart","showOn"],components:{BDropdown:u.R,BDropdownText:W.n,MiniCartInfo:()=>Promise.all([s.e(6587),s.e(5927)]).then(s.bind(s,98093))},computed:{shouldShow(){const e={mobile:this.isMobileScreen,desktop:!this.isMobileScreen,none:!1}[this.showOn];return void 0!==e&&e},badgeShouldDisplay(){return this.allJobsCount>0&&""!==this.currency},...(0,l.Se)("cart",["totalAmountAllTaxIncluded","allJobsCount","currency"]),...(0,l.Se)("dictionary",["getDictionaryVoice"]),...(0,l.Se)("screen",["screenIs","isMobileScreen"]),...(0,l.Se)("links",["cartLink"])},methods:{formatPrice:K.Z,goToCartIcon(){(this.screenIs("xs")||this.screenIs("sm")||this.screenIs("md"))&&window.location.pathname.toString()!==this.cartLink.toString()&&(window.location.href=this.cartLink)},closeMiniCart(){this.$refs.dropdown.hide(!0)}},mounted(){this.$store.dispatch("cart/update",{cart:this.cart})}};const G=(0,w.Z)(J,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.shouldShow?s("div",{staticClass:"content-cart-toggle d-flex"},[s("b-dropdown",{ref:"dropdown",attrs:{id:"dropdown-cart",right:"",variant:"white","toggle-class":"cart header-btn"},on:{show:e.goToCartIcon},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("img",{staticClass:"cart-icon",attrs:{src:"/images/navigation/cart_2022.svg",alt:"cart icon",width:"15px",height:"13px"}}),e._v(" "),e.badgeShouldDisplay?s("span",{staticClass:"badge badge-pill badge-danger cart-pill"},[e._v("\n                "+e._s(e.allJobsCount)+"\n            ")]):e._e(),e._v(" "),e.badgeShouldDisplay?[s("span",{staticClass:"cart-total d-none d-md-inline"},[e._v("\n                    "+e._s(e.formatPriceWithCurrency(e.totalAmountAllTaxIncluded))+"\n                ")])]:[s("span",{staticClass:"d-none d-md-inline"},[e._v(e._s(e.getDictionaryVoice("cart","cart")))])]]},proxy:!0}],null,!1,1574338850)},[e._v(" "),s("b-dropdown-text",[s("div",{staticClass:"mini-cart"},[s("div",{staticClass:"mini-cart-header"},[s("span",[e._v(e._s(e.getDictionaryVoice("cart","your_cart")))]),e._v(" "),s("i",{staticClass:"fal fa-times-circle",on:{click:e.closeMiniCart}})]),e._v(" "),e.badgeShouldDisplay?s("mini-cart-info",{on:{closeCartDropdown:e.closeMiniCart}}):s("div",{staticClass:"cart-empty"},[e._v("\n                    "+e._s(e.getDictionaryVoice("common","carrello_vuoto"))+"\n                ")])],1)])],1)],1):e._e()}),[],!1,null,"31d718e3",null).exports;var X=s(81470),Y=s(68766);const ee={name:"WindowSize",props:["isMobile","device"],data:()=>({windowWidth:0,windowHeight:0}),watch:{windowWidth(){this.$store.dispatch("screen/updateWidth",{width:this.windowWidth})},windowHeight(){this.$store.dispatch("screen/updateHeight",{height:this.windowHeight})}},methods:{handleResize(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}},destroyed(){window.removeEventListener("resize",this.handleResize)},created(){window.addEventListener("load",this.handleResize),window.addEventListener("resize",(0,Y.Z)((()=>{this.handleResize()}),50)),this.handleResize(),this.$store.dispatch("screen/device",{device:this.device}),this.$store.dispatch("screen/isMobile",{isMobile:this.isMobile})}};const te=(0,w.Z)(ee,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,null,null).exports;var se=s(27484),ie=s.n(se),ne=s(70178),oe=s.n(ne),ae=s(29387),re=s.n(ae),le=s(28734),ce=s.n(le),de=s(19017);ie().extend(oe()),ie().extend(re()),ie().extend(ce());const ue={name:"OpeningHour",props:{ccData:{type:Object,required:!0},locale:{type:String,required:!0},phone:{type:String,required:!0},phoneDisplay:{type:String,required:!0}},components:{BDropdown:u.R,BDropdownText:W.n},data:()=>({openingHours:{weekday:{start:"",end:"",displayText:""},weekend:{start:"",end:"",displayText:""}},startingTimeZone:"Europe/Rome"}),computed:{...(0,l.Se)("dictionary",["getDictionaryVoice"]),...(0,l.Se)("screen",["isMobileScreen","screenIs"]),dataAvailable(){var e,t,s,i;return(null===(e=this.openingHours)||void 0===e||null===(t=e.weekday)||void 0===t?void 0:t.start)&&(null===(s=this.openingHours)||void 0===s||null===(i=s.weekday)||void 0===i?void 0:i.end)},localeData(){var e;return null===(e=this.ccData)||void 0===e?void 0:e[this.locale]},defaultData(){var e;return null===(e=this.ccData)||void 0===e?void 0:e.default},dayJsTimeFormat(){var e,t,s;return"12H"===(null!==(e=null===(t=this.localeData)||void 0===t?void 0:t.time_format)&&void 0!==e?e:null===(s=this.defaultData)||void 0===s?void 0:s.time_format)?"h:mm":"k:mm"},workingDaysDisplayText(){var e,t;return null===(e=this.openingHours)||void 0===e||null===(t=e.weekday)||void 0===t?void 0:t.displayText},weekendDaysDisplayText(){var e,t;return null===(e=this.openingHours)||void 0===e||null===(t=e.weekend)||void 0===t?void 0:t.displayText}},methods:{getValueForKeys(e,t){var s,i,n,o,a;return null!==(s=null===(i=this.localeData)||void 0===i||null===(n=i[e])||void 0===n?void 0:n[t])&&void 0!==s?s:null===(o=this.defaultData)||void 0===o||null===(a=o[e])||void 0===a?void 0:a[t]},getLocalizedTime(e,t,s){let i;try{const n=ie()(t).hour(e).minute(0);i=ie().tz(n,s).format(this.dayJsTimeFormat)}catch(t){de.Z.log(t);i=ie()().hour(e).minute(0).format(this.dayJsTimeFormat)}return i},updateOpeningHours(e){var t;let{contentsKey:s,openingHoursKey:i,timezoneNow:n,localTimeZone:o}=e;const a=this.getValueForKeys(s,"start_hour"),r=this.getValueForKeys(s,"end_hour"),l=this.getValueForKeys(s,"display_text");if(!a||!r)return;const c=this.getLocalizedTime(a,n,o),d=this.getLocalizedTime(r,n,o),u=null==l||null===(t=l.replace("#START_TIME#",c))||void 0===t?void 0:t.replace("#FINISH_TIME#",d);this.openingHours[i]={start:c,end:d,displayText:u}},trackTimeTablesClick(){(0,d.Z)("See Timetables","ga4_event",{action:"see_timetables"})},closeDropdown(){this.$refs.dropdown.hide(!0)}},created(){window.addEventListener("load",(()=>{const e=ie().tz.guess(),t=ie().tz(new Date,this.startingTimeZone);this.updateOpeningHours({contentsKey:"working_days",openingHoursKey:"weekday",timezoneNow:t,localTimeZone:e}),this.updateOpeningHours({contentsKey:"weekend_days",openingHoursKey:"weekend",timezoneNow:t,localTimeZone:e})}))}};const he=(0,w.Z)(ue,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.dataAvailable?s("div",{staticClass:"opening-hours d-flex"},[s("b-dropdown",{ref:"dropdown",attrs:{variant:"white",right:"","toggle-class":"opening-hours-dropdown"},on:{show:e.trackTimeTablesClick},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("img",{staticClass:"phone-icon",attrs:{src:"/images/navigation/phone_2022.svg",width:"12px",height:"19px",alt:"phone icon"}}),e._v(" "),s("a",{staticClass:"phone-btn"},[s("span",{staticClass:"phone-number"},[e._v(e._s(e.phoneDisplay))])]),e._v(" "),s("i",{staticClass:"pixicon icon-arrow_down"})]},proxy:!0}],null,!1,1470203972)},[e._v(" "),s("b-dropdown-text",{on:{click:e.closeDropdown}},[s("div",{staticClass:"phone-selection"},[s("img",{staticClass:"phone-icon",attrs:{src:"/images/navigation/phone_2022.svg",alt:"phone icon",width:"12px",height:"19px"}}),e._v(" "),s("div",{staticClass:"phone-selection-inner"},[s("a",{staticClass:"phone-btn"},[s("span",{staticClass:"phone-number"},[e._v(e._s(e.phoneDisplay))])]),e._v(" "),s("i",{staticClass:"pixicon icon-arrow_up"})])]),e._v(" "),s("span",{staticClass:"dropdown-item"},[e._v("\n                "+e._s(e.workingDaysDisplayText)+"\n            ")]),e._v(" "),e.weekendDaysDisplayText?[s("hr"),e._v(" "),s("span",{staticClass:"dropdown-item"},[e._v("\n                    "+e._s(e.weekendDaysDisplayText)+"\n                ")])]:e._e()],2)],1)],1):e._e()}),[],!1,null,"796a9305",null).exports;const pe={name:"SharedLinks",props:{links:{type:Object,required:!0}},created(){this.$store.dispatch("links/setLinks",{links:this.links})}};const ge=(0,w.Z)(pe,(function(){var e=this.$createElement;return(this._self._c||e)("div")}),[],!1,null,null,null).exports;var me=s(36384),ve=s.n(me);const ye={name:"CurrencySelector",props:{domainCurrency:{type:String,required:!0},exchangeRate:{type:Number,required:!0}},components:{BDropdown:u.R,BDropdownText:W.n},computed:{...(0,l.Se)("preference",["activeCurrency","showCurrencySelector"]),...(0,l.Se)("screen",["isMobileScreen"]),...(0,l.Se)("dictionary",["getDictionaryVoice"])},data(){return{currentCurrency:"",currencies:[...new(ve())(["EUR",this.domainCurrency])],defaultCurrency:this.domainCurrency}},methods:{onChangeCurrentCurrency(e){this.$store.dispatch("preference/setActiveCurrency",e)}},watch:{activeCurrency(e){this.currentCurrency=e}},created(){this.$store.dispatch("preference/getActiveCurrency",{newCurrency:this.defaultCurrency}),this.$store.dispatch("preference/setDefaultCurrency",this.defaultCurrency),this.$store.dispatch("preference/setExchangeRate",this.exchangeRate);const e="CHF"===this.domainCurrency;this.$store.dispatch("preference/setShowCurrencySelectorForDomain",e),e||this.$store.dispatch("preference/setActiveCurrency",this.defaultCurrency)}};const we=(0,w.Z)(ye,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.showCurrencySelector&&e.activeCurrency?s("div",{staticClass:"currencies-selector-container"},[e.isMobileScreen?s("div",{staticClass:"currencies-selector-mobile"},[s("div",{staticClass:"currencies-dropup"},[s("div",[s("span",{staticClass:"label"},[e._v(e._s(e.getDictionaryVoice("header","currency_label")))])]),e._v(" "),s("b-dropdown",{ref:"dropdown",attrs:{variant:"white",dropup:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("span",[e._v(e._s(e.activeCurrency))]),e._v(" "),s("i",{staticClass:"pixicon icon-arrow_up"})]},proxy:!0}],null,!1,2645186407)},[e._v(" "),s("b-dropdown-text",e._l(e.currencies,(function(t){return s("a",{staticClass:"dropdown-item",on:{click:function(s){return e.onChangeCurrentCurrency(t)}}},[e._v("\n                        "+e._s(t)+"\n                    ")])})),0)],1)],1)]):s("div",{staticClass:"d-lg-flex currencies-selector"},[s("b-dropdown",{ref:"dropdown",attrs:{variant:"white",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("span",[e._v(e._s(e.activeCurrency))]),e._v(" "),s("i",{staticClass:"pixicon icon-arrow_down"})]},proxy:!0}],null,!1,2194622096)},[e._v(" "),s("b-dropdown-text",e._l(e.currencies,(function(t){return s("a",{staticClass:"dropdown-item",on:{click:function(s){return e.onChangeCurrentCurrency(t)}}},[e._v("\n                    "+e._s(t)+"\n                ")])})),0)],1)],1)]):e._e()}),[],!1,null,"616f67b9",null).exports;const _e={name:"ModalRecover",components:{SpinningLoader:v.Z},data:()=>({recoverEmail:"",recoverMessage:"",recoverErrorResponse:"",isLoadingRecover:!1}),computed:{...(0,l.Se)("dictionary",["getDictionaryVoice"])},methods:{recoverPassword(){""!==this.recoverEmail?(this.recoverMessage="",this.recoverErrorResponse={},this.isLoadingRecover=!0,axios.post("/reset-password-token/",{username_email:this.recoverEmail}).then((e=>{const{data:t}=e;var s;"failure"===t.status?(de.Z.error("ERROR: ",t),this.recoverMessage="error",this.isLoadingRecover=!1,this.recoverErrorResponse=null!==(s=null==t?void 0:t.data)&&void 0!==s?s:{}):(de.Z.info("SUCCESS: ",t),this.recoverMessage="success")})).catch((e=>{de.Z.error(e,"ajax ko"),this.recoverMessage="error",this.isLoadingRecover=!1}))):this.recoverMessage="error"}}};const fe=(0,w.Z)(_e,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:"modal-recover"}},[s("template",{slot:"modal-header-close"},[s("i",{staticClass:"fal fa-times-circle"})]),e._v(" "),s("template",{slot:"modal-title"},[s("img",{attrs:{alt:"login icon",src:"/images/navigation/login_2022.svg",width:"30px",height:"35px"}}),e._v(" "),s("div",{staticClass:"header-title"},[e._v(e._s(e.getDictionaryVoice("common","dimenticato_pwd")))])]),e._v(" "),"success"===e.recoverMessage?s("template",{slot:"default"},[s("div",{staticClass:"text-center",domProps:{innerHTML:e._s(e.getDictionaryVoice("user","email_inviata_msg").replace("#email#",e.recoverEmail))}})]):s("template",{slot:"default"},[s("div",{staticClass:"pwd-instruction"},[e._v(e._s(e.getDictionaryVoice("user","pwd_reset_instruction")))]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"recoverEmail"}},[e._v(e._s(e.getDictionaryVoice("user","email_or_username")))]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.recoverEmail,expression:"recoverEmail"}],staticClass:"form-control",attrs:{type:"text",id:"recoverEmail",placeholder:e.getDictionaryVoice("user","email_or_username")},domProps:{value:e.recoverEmail},on:{input:function(t){t.target.composing||(e.recoverEmail=t.target.value)}}}),e._v(" "),"error"===e.recoverMessage?s("div",{staticClass:"alert alert-error"},[e._v("\n                "+e._s(e.getDictionaryVoice("user","email_non_inviata"))+"\n                "),e.recoverErrorResponse&&e.recoverErrorResponse.message?s("span",[e._l(e.recoverErrorResponse.message,(function(t){return[s("br"),e._v(" "),s("strong",[e._v(e._s(t))])]}))],2):e._e()]):e._e()])]),e._v(" "),"success"===e.recoverMessage?s("template",{staticClass:"w-100",slot:"modal-footer"},[s("b-button",{staticClass:"back-to-login blue-empty-btn small-btn",on:{click:function(t){return e.$bvModal.hide("modal-recover")}}},[e._v("\n            "+e._s(e.getDictionaryVoice("modals","chiudi"))+"\n        ")])],1):s("template",{staticClass:"w-100",slot:"modal-footer"},[s("b-button",{staticClass:"btn blue-btn btn-block",on:{click:e.recoverPassword}},[s("spinning-loader",{attrs:{"is-loading":e.isLoadingRecover}}),e._v("\n            "+e._s(e.getDictionaryVoice("modals","invia"))+"\n        ")],1)],1)],2)}),[],!1,null,null,null).exports,Ce=()=>{new(n())({el:"#main-header",store:o.Z,components:{UserMenu:x,SearchBar:U,MiniCart:G,ModalGenericError:X.Z,WindowSize:te,OpeningHour:he,SharedLinks:ge,CurrencySelector:we,ModalRecover:fe,DifferentCountryMessage:()=>Promise.all([s.e(5270),s.e(2047)]).then(s.bind(s,13584)),ModalLogin:()=>Promise.all([s.e(4678),s.e(34)]).then(s.bind(s,88591)),LoginValidationContainer:()=>Promise.all([s.e(8034),s.e(7206),s.e(3251)]).then(s.bind(s,3791)),ModalDeclinedCampaign:()=>Promise.all([s.e(4430),s.e(2865)]).then(s.bind(s,56230)),ModalBannerDisclaimer:()=>s.e(9549).then(s.bind(s,34118))},beforeCreate(){this.$store.dispatch("dictionary/loadDictionary")}})}},5437:(e,t,s)=>{function i(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i={style:"currency",currency:t};return!0===s&&(i={...i,minimumFractionDigits:0,maximumFractionDigits:0}),t&&t.length>0?Number(e).toLocaleString(document.documentElement.lang,i):""}s.d(t,{Z:()=>i})},90891:(e,t,s)=>{s.d(t,{Z:()=>o});var i=s(33032),n=s.n(i);const o=(e,t,s)=>{let i;return function(){for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];const l=this;clearTimeout(i),i=n()((()=>{i=null,s||e.apply(l,a)}),t),s&&!i&&e.apply(l,a)}}},68766:(e,t,s)=>{s.d(t,{Z:()=>i});s(33948);const i=(e,t)=>{let s=0;return function(){const i=new Date;i-s>=t&&(e(...arguments),s=i)}}},81470:(e,t,s)=>{s.d(t,{Z:()=>a});var i=s(20629),n=s(85835);const o={name:"ModalGenericError",computed:{...(0,i.Se)("dictionary",["getDictionaryVoice"])},methods:{hideModal(){this.$bvModal.hide("modal-generic-error")},errorModal(){this.$bvModal.show("modal-generic-error")}},created(){n.Z.$on("open-modal-generic-error",(()=>{this.errorModal()}))}};const a=(0,s(51900).Z)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:"modal-generic-error",size:"lg"}},[s("template",{slot:"modal-header-close"},[s("i",{staticClass:"fal fa-times-circle"})]),e._v(" "),s("template",{staticClass:"text-center",slot:"modal-title"},[s("span",{staticClass:"pixicon icon-alert"}),e._v(" "),s("br"),e._v("\n        "+e._s(e.getDictionaryVoice("modals","ops"))+"\n    ")]),e._v(" "),s("template",{staticClass:"text-center",slot:"default"},[s("p",{domProps:{innerHTML:e._s(e.getDictionaryVoice("modals","error_add_to_cart"))}})]),e._v(" "),s("template",{staticClass:"w-100",slot:"modal-footer"},[s("b-button",{staticClass:"blue-empty-btn",attrs:{variant:"primary"},on:{click:e.hideModal}},[e._v("\n            "+e._s(e.getDictionaryVoice("modals","chiudi"))+"\n        ")])],1)],2)}),[],!1,null,null,null).exports},27682:(e,t,s)=>{s.d(t,{Z:()=>a});var i=s(5437);var n=s(92381);const o={name:"CurrencyHandler",computed:{displayReverseConversionPrice(){return this.showCurrencySelectorForDomain&&this.activeCurrency!==this.defaultCurrency&&"EUR"===this.activeCurrency},...(0,s(20629).Se)("preference",["defaultCurrency","activeCurrency","currencyExchangeRate","showCurrencySelectorForDomain"])},methods:{convertAmount(e){return function(e,t,s,i){return null!=s&&e!==t?s/i:s}(this.defaultCurrency,this.activeCurrency,e,this.currencyExchangeRate)},formatPriceWithCurrency(e){const t=this.convertAmount(e);return(0,i.Z)(t,this.activeCurrency)},formatPriceObjectWithCurrency(e){return!(0,n.Z)(e)&&!(0,n.Z)(null==e?void 0:e.amount)&&!(0,n.Z)(null==e?void 0:e.currencyCode)?this.formatPriceWithCurrency(e.amount):""},formatPriceWithCurrencyNoDecimals(e){const t=this.convertAmount(e);return(0,i.Z)(t,this.activeCurrency,!0)}}};const a=(0,s(51900).Z)(o,undefined,undefined,!1,null,null,null).exports},17141:(e,t,s)=>{s.d(t,{Z:()=>u});s(15306);var i=s(78914),n=s.n(i),o=s(86902),a=s.n(o),r=s(20629),l=s(68827),c=s(48383);const d={name:"LoginCommon",mixins:[l.Z],data:()=>({username:"",password:"",loginMessage:"",loginSuccess:!0,isLoading:!1,redirectLink:"",passwordSwitch:"",passwordFieldType:"password",showPassword:!0}),computed:{...(0,r.Se)("dictionary",["getDictionaryVoice"]),...(0,r.Se)("links",["registrationLink","cartLink"])},methods:{goToRegistration(){(0,c.Z)("Register Login","ga_event",{type:"popup accedi",action:"pulsante registrati popup",NonInteraction:!0}),window.location.pathname===this.cartLink&&(0,c.Z)("Register Login in the Basket","ga_event",{type:"Basket",action:"Clicked Register Button",label:"",NonInteraction:!0}),window.location.href=this.registrationLink},handleValidationErrors(e){var t;n()(t=a()(e)).call(t,(t=>{const s=e[t];s&&""!==s&&s.length&&this.updateValidationMessages({[t]:this.getDictionaryVoice("validation_messages",s[0])}),"anonymizedEmail"===t&&this.updateValidationMessages({[t]:s[0]})}))},switchVisibility(){this.passwordFieldType="password"===this.passwordFieldType?"text":"password",this.showPassword=!this.showPassword},showModalRecover(){this.$root.$emit("bv::hide::modal","modal-login"),(0,c.Z)("Login","ga_event",{type:"popup accedi",action:"click password dimenticata",NonInteraction:!0}),this.$root.$emit("bv::show::modal","modal-recover")},login(){window.location.pathname===this.cartLink&&((0,c.Z)("Login in the Basket","ga_event",{type:"Basket",action:"Clicked Login Button",label:"",NonInteraction:!0}),(0,c.Z)("Login in the Basket - Floodlight","login_from_basket",{})),this.loginSuccess=!0,this.isLoading=!0,this.clearValidationMessages(),this.loginMessage="",""===this.username||""===this.password?(this.loginMessage=this.getDictionaryVoice("modals","dati_obbligatori"),this.loginSuccess=!1,this.isLoading=!1):axios.post("/login/",{username:this.username,password:this.password}).then((async e=>{const{data:t}=e;if("failure"===t.status){if(this.loginSuccess=!1,"USR-404"===t.data.errorCode)this.loginMessage=this.getDictionaryVoice("modals","usr_pwd_errati_migration").replace("#DOMAIN#",window.location.hostname);else this.handleValidationErrors(t.data.message);this.isLoading=!1}else(0,c.Z)("User Logged In GA","ga_event",{type:"popup accedi",action:"login avvenuto",NonInteraction:!0}),(0,c.Z)("User Logged In Generic","login",{login_usr:this.username}),await this.$store.dispatch("user/clearEmailOnHoldStatus"),await this.$store.dispatch("cart/clearSelectedPickupPoint"),""!==this.redirectLink?window.location.href=this.redirectLink:window.location.reload()}))}}};const u=(0,s(51900).Z)(d,undefined,undefined,!1,null,null,null).exports},11429:(e,t,s)=>{s.d(t,{Z:()=>n});const i={name:"SpinningLoader",props:["isLoading"],components:{BSpinner:s(32639).X}};const n=(0,s(51900).Z)(i,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isLoading?s("b-spinner",{attrs:{small:""}}):e._e()}),[],!1,null,"47a3d934",null).exports},68827:(e,t,s)=>{s.d(t,{Z:()=>l});var i=s(32366),n=s.n(i),o=s(86902),a=s.n(o);const r={name:"ValidationHandler",data:()=>({validationMessages:{}}),methods:{clearObjectFields:e=>{var t;return n()(t=a()(e)).call(t,((e,t)=>({...e,[t]:""})),{})},hasValidationMessage(e){return""!==this.getValidationMessage(e)},getValidationMessage(e){var t,s;return null!==(t=null===(s=this.validationMessages)||void 0===s?void 0:s[e])&&void 0!==t?t:""},clearValidationMessages(){this.validationMessages=this.clearObjectFields(this.validationMessages)},updateValidationMessages(e){this.validationMessages={...this.validationMessages,...e}}}};const l=(0,s(51900).Z)(r,undefined,undefined,!1,null,null,null).exports}}]);